<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>EthOS Puzzle</title>
  <style>
    @font-face {
      font-family: 'ChicagoGT';
      src: url('chichagotlf.ttf') format('truetype');
    }

    body {
      font-family: 'ChicagoGT', monospace;
      background-color: #a6c1ee;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 50px;
    }

    h1 {
      margin-bottom: 10px;
    }

    .retro-btn {
      font-family: inherit;
      font-size: 16px;
      padding: 10px 20px;
      background: #e0e0e0;
      border: 2px solid;
      border-top-color: #fff;
      border-left-color: #fff;
      border-bottom-color: #404040;
      border-right-color: #404040;
      cursor: pointer;
      margin: 10px;
    }

    .retro-btn:active {
      border-top-color: #404040;
      border-left-color: #404040;
      border-bottom-color: #fff;
      border-right-color: #fff;
    }

    #templatePopup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80%;
      max-width: 800px;
      background: #f0f0f0;
      border: 4px solid #000;
      box-shadow: inset -3px -3px #fff, inset 3px 3px #555;
      display: none;
      padding: 20px;
      z-index: 1000;
    }

    .template-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
    }

    .template-item {
      background: #dcdcdc;
      border: 2px solid #000;
      box-shadow: inset -2px -2px #fff, inset 2px 2px #333;
      padding: 8px;
      text-align: center;
    }

    .template-item img {
      width: 100%;
      height: auto;
      border: 1px solid #000;
      margin-bottom: 6px;
    }

    .template-name {
      font-weight: bold;
      margin-bottom: 6px;
    }

    .overlay {
      position: fixed;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.3);
      top: 0;
      left: 0;
      display: none;
      z-index: 900;
    }

    #selectedTemplatePreview {
      max-width: 300px;
      margin-top: 20px;
      border: 2px solid #000;
    }
  </style>
</head>
<body>

  <h1>ðŸ§© EthOS Puzzle Game</h1>
  <button class="retro-btn" onclick="openTemplatePopup()">Choose Template</button>
  <button class="retro-btn" onclick="startGame()">Start Game</button>

  <div id="selectedTemplateName"></div>
  <img id="selectedTemplatePreview" src="" alt="" style="display: none;">

  <div id="templatePopup">
    <div class="template-grid" id="templateList">
      <!-- Templates will be injected here -->
    </div>
  </div>
  <div class="overlay" id="overlay" onclick="closeTemplatePopup()"></div>

  <script>
    const templates = [
      { name: "EthOS Original", file: "ethos-original.jpg" },
      { name: "EthOS Psychedelic Flowers", file: "ethos-psychedelic-flowers.png" },
      { name: "EthOS Psychedelic Sea", file: "ethos-psychedelic-sea.png" },
      { name: "EthOS Psychedelic Forest", file: "ethos-psychedelic-forest.png" },
      { name: "EthOS Psychedelic City", file: "ethos-psychedelic-city.png" },
      { name: "EthOS Psychedelic Garden", file: "ethos-psychedelic-garden.png" },
      { name: "EthOS Surreal Alchemy", file: "ethos-surreal-alchemy.png" },
      { name: "EthOS Surreal Garden", file: "ethos-surreal-garden.png" },
      { name: "EthOS Surreal Animals", file: "ethos-surreal-animals.png" }
    ];

    const templateList = document.getElementById("templateList");
    const templatePopup = document.getElementById("templatePopup");
    const overlay = document.getElementById("overlay");
    const preview = document.getElementById("selectedTemplatePreview");
    const templateName = document.getElementById("selectedTemplateName");

    let selectedTemplate = null;

    function openTemplatePopup() {
      templatePopup.style.display = "block";
      overlay.style.display = "block";
    }

    function closeTemplatePopup() {
      templatePopup.style.display = "none";
      overlay.style.display = "none";
    }

    function selectTemplate(file, name) {
      selectedTemplate = file;
      preview.src = file;
      preview.style.display = "block";
      templateName.textContent = "Selected: " + name;
      closeTemplatePopup();
    }

    // Load templates into popup
    templates.forEach(tpl => {
      const div = document.createElement("div");
      div.className = "template-item";
      div.innerHTML = `
        <img src="${tpl.file}" alt="${tpl.name}" />
        <div class="template-name">${tpl.name}</div>
        <button class="retro-btn" onclick="selectTemplate('${tpl.file}', '${tpl.name}')">Select</button>
      `;
      templateList.appendChild(div);
    });

    function startGame() {
      if (!selectedTemplate) {
        alert("Please select a template before starting!");
        return;
      }
      // Placeholder: Here you'll load the puzzle game logic
      alert("ðŸŽ‰ Game started with template: " + selectedTemplate);
    }
  </script>
</body>
</html>
